<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="IE=edge">
<title>4-02_12hour</title>
<link href="css/style.css" rel="stylesheet" type="text/css">
</head>
<body>
<header>
<div class="header-contents">
<h1>東京オリンピックまでにいただけるお給料を計算します。</h1>
</div><!-- /.header-contents -->
</header>
<body onload="doPrintDate()">
<div class="main-wrapper">
<section>

  <div>
		<span>現在日時（ISO8601）：</span>
    <span id="date"></span>
	</div>
	<div>
		<span>現在日時（ISO8601 月）：</span>
    <span id="parse_date_month"></span>
  </div>
	<div>
		<span>現在日時（ISO8601 日）：</span>
    <span id="parse_date_day"></span>
	</div>

	<h2>東京オリンピック開催日</h2>
	<div>
		<span>現在日時（ISO8601 月）：</span>
    <span id="parse_dist_month"></span>
  </div>
	<div>
		<span>現在日時（ISO8601 日）：</span>
    <span id="parse_dist_day"></span>
	</div>

	<h3>現在の月給を入力してください。</h3>
	<form id="form1">
    <input type="text" id="saraly" maxlength="5" size="5" style="text-align:right" onkeydown="maskInputNum()"><span>千円/月</span>
    <input type="button" onclick="doPrintSaraly();" value="表示">
	</form>
	<div>
		<span>入力値：</span>
	  <span id="output_saraly"></span>
	</div>
</section>
</div><!-- /.main-wrapper -->
</body>
<footer>JavaScript Samples</footer>
<script>
var olimpic_year = "2020-07"; //ハイフンを区切りとした年月

function doPrintSaraly() {
	var target = document.getElementById("output_saraly");
	target.innerText = document.forms.form1.saraly.value;
}

function doPrintDate() {
	var now = new Date();
	var output = now.toISOString(); //2016-09-20T08:55:40.204Z
	document.getElementById("date").innerText = output;
	doPrintParseDate(output);
	doPrintParseDist(olimpic_year);
}

function doPrintParseDate(source) {
	var output = source.split("-");
	document.getElementById("parse_date_month").innerText = output[0];
	document.getElementById("parse_date_day").innerText = output[1];
}

function doPrintParseDist(source) {
	var output = source.split("-");
	document.getElementById("parse_dist_month").innerText = output[0];
	document.getElementById("parse_dist_day").innerText = output[1];
}

function maskInputNum() {
	if (!(event.keyCode >= 48 && event.keyCode <= 57 || event.keyCode == 46 || event.keyCode == 8 || event.keyCode == 37 || event.keyCode == 39)) {
		event.preventDefault();
	  return false;
	}
	return true;
}

</script>
</body>
</html>
